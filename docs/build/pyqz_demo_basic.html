

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Running pyqz I &mdash; pyqz 0.8.4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pyqz 0.8.4 documentation" href="index.html"/>
        <link rel="next" title="Running pyqz II" href="pyqz_demo_advanced.html"/>
        <link rel="prev" title="Installing pyqz" href="installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pyqz
          

          
            
            <img src="_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installing pyqz</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running pyqz I</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#A)-Installing-and-importing-pyqz">A) Installing and importing pyqz</a></li>
<li class="toctree-l2"><a class="reference internal" href="#B)-Accessing-MAPPINGS-line-ratio-diagnostic-grids">B) Accessing MAPPINGS line ratio diagnostic grids</a></li>
<li class="toctree-l2"><a class="reference internal" href="#C)-Deriving-LogQ-and-Tot[O+12]-for-a-given-set-of-line-ratios">C) Deriving LogQ and Tot[O+12] for a given set of line ratios</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyqz_demo_advanced.html">Running pyqz II</a></li>
<li class="toctree-l1"><a class="reference internal" href="understanding.html">Understanding pyqz</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyqz_demo_param.html">The parameters of pyqz</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/modules.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledge.html">Acknowledging pyqz</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">pyqz</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Running pyqz I</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pyqz_demo_basic.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Running-pyqz-I">
<span id="runningpyqzbasic"></span><h1>Running pyqz I<a class="headerlink" href="#Running-pyqz-I" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The code syntax in v0.8.0 has changed significantly, and so did the function calls. pyqz v0.8.x is therefore NOT backward compatible with older pyqz versions.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The examples below will show you how to run the main functions inside pyqz. But these do not exempt you from getting acquainted with the <a class="reference internal" href="understanding.html#understandingpyqz"><span class="std std-ref">Understanding pyqz</span></a> section of the documentation !</p>
</div>
<div class="section" id="A)-Installing-and-importing-pyqz">
<h2>A) Installing and importing pyqz<a class="headerlink" href="#A)-Installing-and-importing-pyqz" title="Permalink to this headline">¶</a></h2>
<p>Installing pyqz is best done via pip. You should then be able to import
the package and check its version from within any Python shell:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [20]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">pyqz</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<p>From v0.8.0 onwards, the plotting functions have been placed in a
distinct module, which must be import separately, if you wish to exploit
them.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [27]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pyqz.pyqz_plots</span> <span class="kn">as</span> <span class="nn">pyqzp</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="B)-Accessing-MAPPINGS-line-ratio-diagnostic-grids">
<h2>B) Accessing MAPPINGS line ratio diagnostic grids<a class="headerlink" href="#B)-Accessing-MAPPINGS-line-ratio-diagnostic-grids" title="Permalink to this headline">¶</a></h2>
<p>pyqz gives you easy access to specific MAPPINGS strong nebular line
ratio diagnostic diagrams using <code class="docutils literal"><span class="pre">pyqz.get_grid()</span></code>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">a_grid</span> <span class="o">=</span> <span class="n">pyqz</span><span class="o">.</span><span class="n">get_grid</span><span class="p">(</span><span class="s1">&#39;[NII]/[SII]+;[OIII]/[SII]+&#39;</span><span class="p">,</span> <span class="n">sampling</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The main parameters of the MAPPINGS simulations can be specified via the
following keywords: - <code class="docutils literal"><span class="pre">Pk</span></code> let’s you define the pressure of the
simulated HII regions, - <code class="docutils literal"><span class="pre">struct</span></code> allows you to choose between
plane-parallel (<code class="docutils literal"><span class="pre">'pp'</span></code>) and spherical (<code class="docutils literal"><span class="pre">'sph'</span></code>) HII regions, and -
<code class="docutils literal"><span class="pre">kappa</span></code> lets you define the value of <span class="math">\(\kappa\)</span> (from the
so-called <span class="math">\(\kappa\)</span>-distribution).</p>
<p>All these values must match an existing set of MAPPINGS simulations
inside the <code class="docutils literal"><span class="pre">pyqz.pyqzm.pyqz_grid_dir</span></code> folder, or pyqz will issue an
error. <strong>In other words, pyqz will never be running new MAPPINGS
simulations for you.</strong></p>
<p>So, if one wanted to access the MAPPINGS simulations for plane-parallel
HII regions, with Maxwell-Boltzmann electron density distribution,
<code class="docutils literal"><span class="pre">Pk</span> <span class="pre">=5.0</span></code> (these are the default parameters), one should type:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">a_grid</span> <span class="o">=</span> <span class="n">pyqz</span><span class="o">.</span><span class="n">get_grid</span><span class="p">(</span><span class="s1">&#39;[NII]/[SII]+;[OIII]/[SII]+&#39;</span><span class="p">,</span> <span class="n">struct</span> <span class="o">=</span> <span class="s1">&#39;pp&#39;</span><span class="p">,</span> <span class="n">Pk</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">kappa</span> <span class="o">=</span> <span class="s1">&#39;inf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>If you want to check how a given line ratio diagnostic diagram looks
(and e.g. check whether the MAPPINGS grid is flat, or wrapped) for line
ratios of your choice, you can use <code class="docutils literal"><span class="pre">pyqz_plots.plot_grid()</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [33]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">pyqzp</span><span class="o">.</span><span class="n">plot_grid</span><span class="p">(</span><span class="s1">&#39;[NII]/[OII]+;[OIII]/[OII]+&#39;</span><span class="p">,</span> <span class="n">struct</span> <span class="o">=</span> <span class="s1">&#39;pp&#39;</span><span class="p">,</span> <span class="n">Pk</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">kappa</span> <span class="o">=</span> <span class="s1">&#39;inf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/pyqz_demo_basic_14_0.png" src="_images/pyqz_demo_basic_14_0.png" />
</div>
</div>
<p>You can check which version of MAPPINGS was used to generate the grids
currently inside pyqz as follows:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">fn</span> <span class="o">=</span> <span class="n">pyqz</span><span class="o">.</span><span class="n">pyqz_tools</span><span class="o">.</span><span class="n">get_MVphotogrid_fn</span><span class="p">(</span><span class="n">Pk</span> <span class="o">=</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">calibs</span> <span class="o">=</span> <span class="s1">&#39;GCZO&#39;</span><span class="p">,</span> <span class="n">kappa</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="n">struct</span> <span class="o">=</span> <span class="s1">&#39;pp&#39;</span><span class="p">,</span> <span class="n">sampling</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">info</span> <span class="o">=</span> <span class="n">pyqz</span><span class="o">.</span><span class="n">pyqz_tools</span><span class="o">.</span><span class="n">get_MVphotogrid_metadata</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>

<span class="k">print</span> <span class="s1">&#39;MAPPINGS id: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;MV_id&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="s1">&#39;Model created: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="s1">&#39;Model parameters: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;: &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
MAPPINGS id: MAPPINGS V HII Region Grid: QZ pp_GCZO_Pk50_kinf
Model created: Thu Dec 10 14:16:36 CLST 2015
Model parameters: pp,two,LPk=5.0,dep=Depln_Fe_1.50.txt,kap=inf,GCZFea05t2,SF=cont,a05,isp,#11,P6,Mv5.0.16,Svm802,FE15
</pre></div></div>
</div>
<p>An important feature of pyqz is the auto-detection of wraps in the
diagnostic grids, marked with red segments in the diagram, and returned
as an array by the function <code class="docutils literal"><span class="pre">pyqz.check_grid()</span></code>.</p>
<p>The default MAPPINGS grids shipped with pyqz are coarse. For various
reasons better explained elsewhere (see the MAPPINGS documentation),
only a few abundance values have matching stellar tracks AND stellar
atmospheres. Hence, only a few abundance points can be simulated in a
consistent fashion.</p>
<p>Rather than 1) interpolating between stellar tracks and stellar
atmospheres in the abundance space and 2) running extra MAPPINGS models
(which would use inconsistent &amp; interpolated input), pyqz can directly
resample each diagnostic grid (using the function
<code class="docutils literal"><span class="pre">pyqzt.refine_MVphotogrid()</span></code>, see the docs for more info). The
resampling is performed in the {<code class="docutils literal"><span class="pre">LogQ</span></code> and <code class="docutils literal"><span class="pre">Tot[O+12]</span></code> vs line
ratio} space for all line ratios returned by MAPPINGS using Akima
splines. Resampled grids can be accessed via the <code class="docutils literal"><span class="pre">sampling</span></code> keyword.
Diagnostic grids resampled 2x2 times are shipped in the default pyqz
package and are directly accessible, e.g.:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [34]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">pyqzp</span><span class="o">.</span><span class="n">plot_grid</span><span class="p">(</span><span class="s1">&#39;[NII]/[OII]+;[OIII]/[OII]+&#39;</span><span class="p">,</span> <span class="n">struct</span> <span class="o">=</span> <span class="s1">&#39;pp&#39;</span><span class="p">,</span> <span class="n">Pk</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">kappa</span> <span class="o">=</span> <span class="s1">&#39;inf&#39;</span><span class="p">,</span> <span class="n">sampling</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/pyqz_demo_basic_18_0.png" src="_images/pyqz_demo_basic_18_0.png" />
</div>
</div>
<p>In the default pyqz diagrams, the <em>original</em> MAPPINGS nodes are circled with a black outline, while the <em>reconstructed</em> nodes are not. For grids more densely resampled, see <a class="reference internal" href="pyqz_demo_advanced.html#resamplinggrids"><span class="std std-ref">E) Resampling the original MAPPINGS grids</span></a>.</p>
</div>
<div class="section" id="C)-Deriving-LogQ-and-Tot[O+12]-for-a-given-set-of-line-ratios">
<h2>C) Deriving LogQ and Tot[O+12] for a given set of line ratios<a class="headerlink" href="#C)-Deriving-LogQ-and-Tot[O+12]-for-a-given-set-of-line-ratios" title="Permalink to this headline">¶</a></h2>
<p>At the core of pyqz lies <code class="docutils literal"><span class="pre">pyqz.interp_qz()</span></code>, which is the basic
routine used to interpolate a given line ratio diagnostic grid. The
function is being fed by line ratios stored inside numpy arrays, and
will only return a value for line ratios landing on valid and un-wrapped
regions of the grid:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">niioii</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.65</span><span class="p">])</span>
<span class="n">oiiisii</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.1</span><span class="p">])</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">pyqz</span><span class="o">.</span><span class="n">interp_qz</span><span class="p">(</span><span class="s1">&#39;Tot[O]+12&#39;</span><span class="p">,[</span><span class="n">niioii</span><span class="p">,</span> <span class="n">oiiisii</span><span class="p">],</span><span class="s1">&#39;[NII]/[OII]+;[OIII]/[SII]+&#39;</span><span class="p">,</span>
                   <span class="n">sampling</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">struct</span><span class="o">=</span><span class="s1">&#39;pp&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s1">&#39;Tot[O]+12 = </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">z</span>

<span class="c1"># The result can be visualized using pyqz_plots.plot_grid()</span>
<span class="n">pyqzp</span><span class="o">.</span><span class="n">plot_grid</span><span class="p">(</span><span class="s1">&#39;[NII]/[OII]+;[OIII]/[SII]+&#39;</span><span class="p">,</span><span class="n">sampling</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">struct</span><span class="o">=</span><span class="s1">&#39;pp&#39;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">niioii</span><span class="p">,</span><span class="n">oiiisii</span><span class="p">],</span> <span class="n">interp_data</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Tot[O]+12 = 8.67
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/pyqz_demo_basic_22_1.png" src="_images/pyqz_demo_basic_22_1.png" />
</div>
</div>
<p>Of course, one usually wants to compute both <code class="docutils literal"><span class="pre">LogQ</span></code> and
<code class="docutils literal"><span class="pre">Tot[O+12]</span></code>or <code class="docutils literal"><span class="pre">gas[O+12]</span></code> for a large set of strong emission line
fluxes, combining the estimates from different line ratio diagnostics
diagrams. This is exactly what the function <code class="docutils literal"><span class="pre">pyqz.get_global_qz()</span></code>
allows you to do.</p>
<p>The function is being fed the individual line fluxes and associated
errors in the form of numpy arrays and lists. ID tags for each dataset
can also be given to the function (these are then used if/when saving
the different diagrams to files).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [21]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">pyqz</span><span class="o">.</span><span class="n">get_global_qz</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="mf">1.00e+00</span><span class="p">,</span> <span class="mf">5.00e-02</span><span class="p">,</span> <span class="mf">2.38e+00</span><span class="p">,</span> <span class="mf">1.19e-01</span><span class="p">,</span> <span class="mf">5.07e+00</span><span class="p">,</span> <span class="mf">2.53e-01</span><span class="p">,</span>
                               <span class="mf">5.67e-01</span><span class="p">,</span> <span class="mf">2.84e-02</span><span class="p">,</span> <span class="mf">5.11e-01</span><span class="p">,</span> <span class="mf">2.55e-02</span><span class="p">,</span> <span class="mf">2.88e+00</span><span class="p">,</span> <span class="mf">1.44e-01</span><span class="p">]]),</span>
                   <span class="p">[</span><span class="s1">&#39;Hb&#39;</span><span class="p">,</span><span class="s1">&#39;stdHb&#39;</span><span class="p">,</span><span class="s1">&#39;[OIII]&#39;</span><span class="p">,</span><span class="s1">&#39;std[OIII]&#39;</span><span class="p">,</span><span class="s1">&#39;[OII]+&#39;</span><span class="p">,</span><span class="s1">&#39;std[OII]+&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;[NII]&#39;</span><span class="p">,</span><span class="s1">&#39;std[NII]&#39;</span><span class="p">,</span><span class="s1">&#39;[SII]+&#39;</span><span class="p">,</span><span class="s1">&#39;std[SII]+&#39;</span><span class="p">,</span><span class="s1">&#39;Ha&#39;</span><span class="p">,</span><span class="s1">&#39;stdHa&#39;</span><span class="p">],</span>
                   <span class="p">[</span><span class="s1">&#39;[NII]/[SII]+;[OIII]/Hb&#39;</span><span class="p">,</span><span class="s1">&#39;[NII]/[OII]+;[OIII]/[SII]+&#39;</span><span class="p">],</span>
                   <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;NGC_1234&#39;</span><span class="p">],</span>
                   <span class="n">KDE_method</span> <span class="o">=</span> <span class="s1">&#39;multiv&#39;</span><span class="p">,</span>
                   <span class="n">KDE_qz_sampling</span> <span class="o">=</span> <span class="mi">201j</span><span class="p">,</span>
                   <span class="n">struct</span> <span class="o">=</span> <span class="s1">&#39;pp&#39;</span><span class="p">,</span>
                   <span class="n">sampling</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                   <span class="n">verbose</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--&gt; Received 1 spectrum ...
--&gt; Dealing with them one at a time ... be patient now !
    (no status update until I am done ...)

All done in 0:00:00.409414
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[21]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[array([[  7.38831887e+00,   8.48760006e+00,   7.37681443e+00,
           8.48372388e+00,   7.38256665e+00,   5.75221877e-03,
           8.48566197e+00,   1.93808636e-03,   7.39705148e+00,
           3.48482910e-02,   8.49308943e+00,   3.68692960e-02,
           7.38222685e+00,   3.34205550e-02,   8.48427515e+00,
           3.29994750e-02,   7.38611669e+00,   3.60423386e-02,
           8.48685276e+00,   3.45208507e-02,   0.00000000e+00,
           0.00000000e+00]]),
 [&#39;[NII]/[SII]+;[OIII]/Hb|LogQ&#39;,
  &#39;[NII]/[SII]+;[OIII]/Hb|Tot[O]+12&#39;,
  &#39;[NII]/[OII]+;[OIII]/[SII]+|LogQ&#39;,
  &#39;[NII]/[OII]+;[OIII]/[SII]+|Tot[O]+12&#39;,
  &#39;&lt;LogQ&gt;&#39;,
  &#39;std(LogQ)&#39;,
  &#39;&lt;Tot[O]+12&gt;&#39;,
  &#39;std(Tot[O]+12)&#39;,
  &#39;[NII]/[SII]+;[OIII]/Hb|LogQ{KDE}&#39;,
  &#39;err([NII]/[SII]+;[OIII]/Hb|LogQ{KDE})&#39;,
  &#39;[NII]/[SII]+;[OIII]/Hb|Tot[O]+12{KDE}&#39;,
  &#39;err([NII]/[SII]+;[OIII]/Hb|Tot[O]+12{KDE})&#39;,
  &#39;[NII]/[OII]+;[OIII]/[SII]+|LogQ{KDE}&#39;,
  &#39;err([NII]/[OII]+;[OIII]/[SII]+|LogQ{KDE})&#39;,
  &#39;[NII]/[OII]+;[OIII]/[SII]+|Tot[O]+12{KDE}&#39;,
  &#39;err([NII]/[OII]+;[OIII]/[SII]+|Tot[O]+12{KDE})&#39;,
  &#39;&lt;LogQ{KDE}&gt;&#39;,
  &#39;err(LogQ{KDE})&#39;,
  &#39;&lt;Tot[O]+12{KDE}&gt;&#39;,
  &#39;err(Tot[O]+12{KDE})&#39;,
  &#39;flag&#39;,
  &#39;rs_offgrid&#39;]]
</pre></div>
</div>
</div>
<p>By default, all line flux errors are assumed to be gaussian, where the
input <code class="docutils literal"><span class="pre">std</span></code> value is the 1 standard deviation. Alternatively, line
fluxes can be tagged as upper-limits by setting their errors to -1.</p>
<p>The outcome of <code class="docutils literal"><span class="pre">get_global_qz()</span></code> can be visualized using
<code class="docutils literal"><span class="pre">pyqz_plots.plot_global_qz()</span></code>, but only if <code class="docutils literal"><span class="pre">KDE_pickle_loc</span></code> is set
in the first one. This keyword defines the location in which to save a
<code class="docutils literal"><span class="pre">pickle</span></code> file that contains all the relevant pieces of information
associated with a given function call, i.e.: the single and global KDE,
the <code class="docutils literal"><span class="pre">srs</span></code> random realizations of the line fluxes, etc …</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">out</span> <span class="o">=</span> <span class="n">pyqz</span><span class="o">.</span><span class="n">get_global_qz</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="mf">1.00e+00</span><span class="p">,</span> <span class="mf">5.00e-02</span><span class="p">,</span> <span class="mf">2.38e+00</span><span class="p">,</span> <span class="mf">1.19e-01</span><span class="p">,</span> <span class="mf">5.07e+00</span><span class="p">,</span> <span class="mf">2.53e-01</span><span class="p">,</span>
                                     <span class="mf">5.67e-01</span><span class="p">,</span> <span class="mf">2.84e-02</span><span class="p">,</span> <span class="mf">5.11e-01</span><span class="p">,</span> <span class="mf">2.55e-02</span><span class="p">,</span> <span class="mf">2.88e+00</span><span class="p">,</span> <span class="mf">1.44e-01</span><span class="p">]]),</span>
                   <span class="p">[</span><span class="s1">&#39;Hb&#39;</span><span class="p">,</span><span class="s1">&#39;stdHb&#39;</span><span class="p">,</span><span class="s1">&#39;[OIII]&#39;</span><span class="p">,</span><span class="s1">&#39;std[OIII]&#39;</span><span class="p">,</span><span class="s1">&#39;[OII]+&#39;</span><span class="p">,</span><span class="s1">&#39;std[OII]+&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;[NII]&#39;</span><span class="p">,</span><span class="s1">&#39;std[NII]&#39;</span><span class="p">,</span><span class="s1">&#39;[SII]+&#39;</span><span class="p">,</span><span class="s1">&#39;std[SII]+&#39;</span><span class="p">,</span><span class="s1">&#39;Ha&#39;</span><span class="p">,</span><span class="s1">&#39;stdHa&#39;</span><span class="p">],</span>
                   <span class="p">[</span><span class="s1">&#39;[NII]/[SII]+;[OIII]/Hb&#39;</span><span class="p">,</span><span class="s1">&#39;[NII]/[OII]+;[OIII]/[SII]+&#39;</span><span class="p">],</span>
                   <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;NGC_1234&#39;</span><span class="p">],</span>
                   <span class="n">KDE_method</span> <span class="o">=</span> <span class="s1">&#39;multiv&#39;</span><span class="p">,</span>
                   <span class="n">KDE_qz_sampling</span> <span class="o">=</span> <span class="mi">201j</span><span class="p">,</span>
                   <span class="n">KDE_pickle_loc</span> <span class="o">=</span> <span class="s1">&#39;./examples/&#39;</span><span class="p">,</span>
                   <span class="n">struct</span> <span class="o">=</span> <span class="s1">&#39;pp&#39;</span><span class="p">,</span>
                   <span class="n">sampling</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                   <span class="n">verbose</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">glob</span>
<span class="n">fn</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;./examples/*NGC_1234*.pkl&#39;</span><span class="p">)</span>

<span class="c1"># pyqz_plots.get_global_qz() takes the pickle filename as argument.</span>
<span class="n">pyqzp</span><span class="o">.</span><span class="n">plot_global_qz</span><span class="p">(</span><span class="n">fn</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">show_plots</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">save_loc</span> <span class="o">=</span> <span class="s1">&#39;./examples/&#39;</span><span class="p">,</span> <span class="n">do_all_diags</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--&gt; Received 1 spectrum ...
--&gt; Dealing with them one at a time ... be patient now !
    (no status update until I am done ...)

All done in 0:00:00.684729
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/pyqz_demo_basic_26_1.png" src="_images/pyqz_demo_basic_26_1.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/pyqz_demo_basic_26_2.png" src="_images/pyqz_demo_basic_26_2.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/pyqz_demo_basic_26_3.png" src="_images/pyqz_demo_basic_26_3.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/pyqz_demo_basic_26_4.png" src="_images/pyqz_demo_basic_26_4.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/pyqz_demo_basic_26_5.png" src="_images/pyqz_demo_basic_26_5.png" />
</div>
</div>
<p>Users less keen on using Python extensively can alternatively feed their
data to pyqz via an appropriately structured <code class="docutils literal"><span class="pre">.csv</span></code> file and receive
another <code class="docutils literal"><span class="pre">.csv</span></code> file in return (as well as a numpy array):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [24]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="c1"># The example file is shipped with pyqz, and stored here:</span>
<span class="n">example_csv_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pyqz</span><span class="o">.</span><span class="n">pyqzm</span><span class="o">.</span><span class="n">pyqz_dir</span><span class="p">,</span><span class="s1">&#39;tests&#39;</span><span class="p">,</span><span class="s1">&#39;test_arena&#39;</span><span class="p">,</span><span class="s1">&#39;example_input.csv&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">example_csv_file</span>

<span class="c1"># Now, feed it to the code</span>
<span class="n">pyqz</span><span class="o">.</span><span class="n">get_global_qz_ff</span><span class="p">(</span><span class="n">example_csv_file</span><span class="p">,</span>
                      <span class="p">[</span><span class="s1">&#39;[NII]/[SII]+;[OIII]/Hb&#39;</span><span class="p">,</span><span class="s1">&#39;[NII]/[OII]+;[OIII]/[SII]+&#39;</span><span class="p">],</span>
                      <span class="n">struct</span><span class="o">=</span><span class="s1">&#39;pp&#39;</span><span class="p">,</span>
                      <span class="n">KDE_method</span><span class="o">=</span><span class="s1">&#39;multiv&#39;</span><span class="p">,</span>
                      <span class="n">KDE_qz_sampling</span> <span class="o">=</span> <span class="mi">201j</span><span class="p">,</span>
                      <span class="n">sampling</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
/Users/fvogt/Tools/Python/fpav_pylib/pyqz/pyqz_dev/pyqz/tests/test_arena/example_input.csv

--&gt; Received 1 spectrum ...
--&gt; Dealing with them one at a time ... be patient now !
    (no status update until I am done ...)

All done in 0:00:00.522889
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[24]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>(array([[  7.38831887e+00,   8.48760006e+00,   7.37681443e+00,
           8.48372388e+00,   7.38256665e+00,   5.75221877e-03,
           8.48566197e+00,   1.93808636e-03,   7.39892186e+00,
           4.23620827e-02,   8.48279764e+00,   5.03840229e-02,
           7.38181788e+00,   2.94273316e-02,   8.48495107e+00,
           2.56072350e-02,   7.38541465e+00,   3.43424062e-02,
           8.48543492e+00,   3.25140525e-02,   0.00000000e+00,
           0.00000000e+00]]),
 [&#39;[NII]/[SII]+;[OIII]/Hb|LogQ&#39;,
  &#39;[NII]/[SII]+;[OIII]/Hb|Tot[O]+12&#39;,
  &#39;[NII]/[OII]+;[OIII]/[SII]+|LogQ&#39;,
  &#39;[NII]/[OII]+;[OIII]/[SII]+|Tot[O]+12&#39;,
  &#39;&lt;LogQ&gt;&#39;,
  &#39;std(LogQ)&#39;,
  &#39;&lt;Tot[O]+12&gt;&#39;,
  &#39;std(Tot[O]+12)&#39;,
  &#39;[NII]/[SII]+;[OIII]/Hb|LogQ{KDE}&#39;,
  &#39;err([NII]/[SII]+;[OIII]/Hb|LogQ{KDE})&#39;,
  &#39;[NII]/[SII]+;[OIII]/Hb|Tot[O]+12{KDE}&#39;,
  &#39;err([NII]/[SII]+;[OIII]/Hb|Tot[O]+12{KDE})&#39;,
  &#39;[NII]/[OII]+;[OIII]/[SII]+|LogQ{KDE}&#39;,
  &#39;err([NII]/[OII]+;[OIII]/[SII]+|LogQ{KDE})&#39;,
  &#39;[NII]/[OII]+;[OIII]/[SII]+|Tot[O]+12{KDE}&#39;,
  &#39;err([NII]/[OII]+;[OIII]/[SII]+|Tot[O]+12{KDE})&#39;,
  &#39;&lt;LogQ{KDE}&gt;&#39;,
  &#39;err(LogQ{KDE})&#39;,
  &#39;&lt;Tot[O]+12{KDE}&gt;&#39;,
  &#39;err(Tot[O]+12{KDE})&#39;,
  &#39;flag&#39;,
  &#39;rs_offgrid&#39;])
</pre></div>
</div>
</div>
<p>The first line of the input file must contain the name of each column,
following the pyqz convention. The order itself does not matter, e.g.:</p>
<p><code class="docutils literal"><span class="pre">Id,[OII]+,std[OII]+,Hb,stdHb,[OIII],std[OIII],[OI],std[OI],Ha,stdHa,[NII],std[NII],[SII]+,std[SII]+</span></code></p>
<p>The <code class="docutils literal"><span class="pre">Id</span></code> (optional) can be used to add a tag (i.e. a string) to each
set of line fluxes. This tag will be used in the filenames of the
diagrams (if some are saved) and in the output <code class="docutils literal"><span class="pre">.csv</span></code> file as well.</p>
<p>Commented line begin with <code class="docutils literal"><span class="pre">#</span></code>, missing values are marked with <code class="docutils literal"><span class="pre">$$$</span></code>
(set with the <code class="docutils literal"><span class="pre">missing_values</span></code> keyword), and the decimal precision in
the output file is set with <code class="docutils literal"><span class="pre">decimals</span></code> (default=5).</p>
<p><strong>At this point, it must be stressed that “pyqz.get_global_qz()“ can
only exploit a finite set of diagnostic grids, namely:</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [19]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">pyqz</span><span class="o">.</span><span class="n">pyqzm</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[19]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[&#39;[NII]/[OII]+;[OIII]/[SII]+&#39;,
 &#39;[NII]/[OII]+;[OIII]/[OII]+&#39;,
 &#39;[NII]/[SII]+;[NII]/Ha;[OIII]/Hb&#39;,
 &#39;[NII]/[SII]+;[OIII]/Hb&#39;,
 &#39;[OIII]4363/[OIII];[OIII]/[SII]+&#39;,
 &#39;[NII]/[SII]+;[OIII]/[OII]+&#39;,
 &#39;[NII]/[OII]+;[SII]+/Ha&#39;,
 &#39;[OIII]4363/[OIII];[SII]+/Ha&#39;,
 &#39;[OIII]4363/[OIII];[OIII]/[OII]+&#39;,
 &#39;[NII]/[SII]+;[OIII]/[SII]+&#39;]
</pre></div>
</div>
</div>
<p>These specific diagnostic diagrams are chosen to be largely flat, i.e.
they are able to cleanly disentangle the influence of <code class="docutils literal"><span class="pre">LogQ</span></code> and
<code class="docutils literal"><span class="pre">Tot[O]+12</span></code>. One does not need to use all the grids together. For
example, if one knows that an [OII] line flux measurement is corrupted,
one ought to simply use the diagnostic grids that do not rely on this
line to derive the estimates of <code class="docutils literal"><span class="pre">LogQ</span></code> and <code class="docutils literal"><span class="pre">Tot[O]+12</span></code>.</p>
<p>Users can easily add new diagnostics to this list (defined inside
<code class="docutils literal"><span class="pre">pyqz_metadata.py</span></code>), but will do so at their own risk.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pyqz_demo_advanced.html" class="btn btn-neutral float-right" title="Running pyqz II" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installing pyqz" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2017, Frédéric P.A. Vogt.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.8.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>